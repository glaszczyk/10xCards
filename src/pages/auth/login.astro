---
import { AuthCard } from "@/components/auth/AuthCard";
import { AuthLayout } from "@/components/auth/AuthLayout";
import { LoginForm } from "@/components/auth/LoginForm";
import AppLayout from "@/layouts/AppLayout.astro";

// Pobierz parametr redirectTo z URL
const { searchParams } = Astro.url;
const redirectTo = searchParams.get("redirectTo") || "/generate";
---

<AppLayout title="Sign In - 10xCards">
  <AuthLayout
    client:load
    title="Welcome back"
    subtitle="Sign in to your account to continue learning"
  >
    <AuthCard
      client:load
      title="Sign In"
      description="Enter your credentials to access your account"
    >
      <LoginForm
        client:load
        redirectTo={redirectTo}
        onSuccess={() => {
          // Przekierowanie nastÄ…pi automatycznie
        }}
      />
    </AuthCard>
  </AuthLayout>
</AppLayout>
